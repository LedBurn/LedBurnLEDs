import pygame

# beat_times = [0.0, 0.882358276644, 1.30031746032, 1.74149659864, 2.15945578231, 2.60063492063, 3.04181405896, 3.45977324263, 3.8777324263, 4.31891156463, 4.76009070295, 5.17804988662, 5.61922902494, 6.03718820862, 6.47836734694, 6.89632653061, 7.33750566893, 7.75546485261, 8.17342403628, 8.6146031746, 9.03256235828, 9.4737414966, 9.91492063492, 10.3096598639, 10.7740589569, 11.1920181406, 11.6099773243, 12.0511564626, 12.4923356009, 12.9102947846, 13.3514739229, 13.7694331066, 14.2106122449, 14.6285714286, 15.0465306122, 15.4877097506, 15.9056689342, 16.3236281179, 16.7648072562, 17.2059863946, 17.6239455782, 18.0419047619, 18.4830839002, 18.9242630385, 19.3422222222, 19.7834013605, 20.2013605442, 20.6425396825, 21.0604988662, 21.4784580499, 21.9196371882, 22.3608163265, 22.7787755102, 23.1967346939, 23.6379138322, 24.0326530612, 24.4970521542, 24.9382312925, 25.3561904762, 25.7741496599, 26.1921088435, 26.6332879819, 27.0512471655, 27.5156462585, 27.9336054422, 28.3515646259, 28.7695238095, 29.2107029478, 29.6286621315, 30.0698412698, 30.4878004535, 30.9289795918, 31.3469387755, 31.7881179138, 32.2060770975, 32.6240362812, 33.0652154195, 33.5063945578, 33.9243537415, 34.3655328798, 34.7834920635, 35.2246712018, 35.6426303855, 36.0838095238, 36.5017687075, 36.9197278912, 37.3376870748, 37.7788662132, 38.1968253968, 38.6380045351, 39.0559637188, 39.4971428571, 39.9151020408, 40.3562811791, 40.7742403628, 41.2154195011, 41.6333786848, 42.0745578231, 42.4925170068, 42.9336961451, 43.3516553288, 43.7928344671, 44.2107936508, 44.6287528345, 45.0699319728, 45.4878911565, 45.9290702948, 46.3470294785, 46.7649886621, 47.2061678005, 47.6241269841, 48.0653061224, 48.4832653061, 48.9244444444, 49.3424036281, 49.7835827664, 50.2015419501, 50.6427210884, 51.0606802721, 51.5018594104, 51.9198185941, 52.3609977324, 52.7789569161, 53.1969160998, 53.6148752834, 54.0328344671, 54.4507936508, 54.8687528345, 55.3099319728, 55.7278911565, 56.1922902494, 56.6102494331, 57.0282086168, 57.4693877551, 57.8873469388, 58.3285260771, 58.7464852608, 59.1876643991, 59.6056235828, 60.0235827664, 60.4647619048, 60.9059410431, 61.3239002268, 61.7650793651, 62.1830385488, 62.6009977324, 63.0421768707, 63.4369160998, 63.9013151927, 64.3192743764, 64.7604535147, 65.2016326531, 65.6428117914, 66.0607709751, 66.4787301587, 66.9199092971, 67.3378684807, 67.7558276644, 68.1970068027, 68.6149659864, 69.0561451247, 69.4741043084, 69.9152834467, 70.3332426304, 70.7744217687, 71.1923809524, 71.6103401361, 72.0515192744, 72.4926984127, 72.9106575964, 73.3518367347, 73.793015873, 74.2109750567, 74.6289342404, 75.0701133787, 75.4880725624, 75.9292517007, 76.3472108844, 76.7883900227, 77.1831292517, 77.62430839, 78.0654875283, 78.483446712, 78.9246258503, 79.342585034, 79.7837641723, 80.201723356, 80.6429024943, 81.060861678, 81.5020408163, 81.92, 82.3611791383, 82.779138322, 83.2203174603, 83.638276644, 84.0562358277, 84.497414966, 84.9385941043, 85.356553288, 85.7745124717, 86.1924716553, 86.6336507937, 87.0516099773, 87.4927891156, 87.9107482993, 88.328707483, 88.7698866213, 89.2110657596, 89.6290249433, 90.0702040816, 90.4881632653, 90.9293424036, 91.3473015873, 91.765260771, 92.2064399093, 92.624399093, 93.0655782313, 93.5067573696, 93.9247165533, 94.3658956916, 94.7838548753, 95.2250340136, 95.6429931973, 96.0841723356, 96.5021315193, 96.9200907029, 97.3380498866, 97.7792290249, 98.1971882086, 98.6383673469, 99.0563265306, 99.4975056689, 99.9154648526, 100.356643991, 100.774603175, 101.215782313, 101.633741497, 102.074920635, 102.492879819, 102.934058957, 103.352018141, 103.793197279, 104.211156463, 104.652335601, 105.070294785, 105.511473923, 105.929433107, 106.34739229, 106.765351474, 107.183310658, 107.601269841, 108.019229025, 108.460408163, 108.878367347, 109.319546485, 109.737505669, 110.155464853, 110.596643991, 111.037823129, 111.479002268, 111.896961451, 112.314920635, 112.756099773, 113.174058957, 113.615238095, 114.033197279, 114.474376417, 114.892335601, 115.310294785, 115.751473923, 116.192653061, 116.58739229, 117.051791383, 117.469750567, 117.910929705, 118.328888889, 118.770068027, 119.188027211, 119.629206349, 120.047165533, 120.488344671, 120.906303855, 121.347482993, 121.765442177, 122.183401361, 122.624580499, 123.042539683, 123.483718821, 123.901678005, 124.342857143, 124.760816327, 125.201995465, 125.643174603, 126.061133787, 126.502312925, 126.920272109, 127.361451247, 127.779410431, 128.220589569, 128.638548753, 129.079727891, 129.497687075, 129.915646259, 130.333605442, 130.77478458, 131.215963719, 131.633922902, 132.075102041, 132.493061224, 132.934240363, 133.352199546, 133.793378685, 134.211337868, 134.652517007, 135.07047619, 135.488435374, 135.929614512, 136.347573696, 136.76553288, 137.206712018, 137.624671202, 138.06585034, 138.483809524, 138.924988662, 139.342947846, 139.784126984, 140.202086168, 140.643265306, 141.06122449, 141.502403628, 141.920362812, 142.36154195, 142.779501134, 143.220680272, 143.638639456, 144.079818594, 144.497777778, 144.915736961, 145.333696145, 145.774875283, 146.216054422, 146.634013605, 147.051972789, 147.493151927, 147.911111111, 148.352290249, 148.770249433, 149.211428571, 149.629387755, 150.070566893, 150.488526077, 150.929705215, 151.347664399, 151.788843537, 152.206802721, 152.624761905, 153.065941043, 153.507120181, 153.925079365, 154.366258503, 154.784217687, 155.225396825, 155.643356009, 156.084535147, 156.502494331, 156.920453515, 157.338412698, 157.779591837, 158.19755102]


FILE_NAME = "Dreamfunk"
INPUT_FILE = "../Music/" + FILE_NAME + ".mp3"

pygame.init()
clock = pygame.time.Clock()
pygame.mixer.init()
pygame.mixer.music.load(INPUT_FILE)
pygame.mixer.music.play(0, 0)


print 'start'
while pygame.mixer.music.get_busy():
	song_time = (pygame.mixer.music.get_pos()-170) / 1000.0 

	events = pygame.event.get()
	for event in events:
	    if event.type == pygame.KEYDOWN:
	        if event.key == pygame.K_SPACE :
	        	print(song_time)

	clock.tick(20)